{"version":3,"sources":["scripts/main.js"],"names":["BASE_LINK","linkBase","getPhones","url","Promise","resolve","reject","fetch","then","result","json","catch","error","Error","getIds","map","phone","id","getAllSuccessfulDetails","massId","resolves","item","allSettled","mass","forEach","element","status","push","value","getFirstReceivedDetails","race","getThreeFastestDetails","all","createElement","divClass","title","func","div","document","body","append","classList","add","insertAdjacentHTML","children","name"],"mappings":";AAAA,aAEA,IAAMA,EAAN,0EAEMC,EAAN,sEAGA,SAASC,EAAUC,GACV,OAAA,IAAIC,QAAQ,SAACC,EAASC,GAC3BC,MAAMJ,GACHK,KAAK,SAAAC,GACGJ,OAAAA,EAAQI,EAAOC,UAEvBC,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASE,IACAZ,OAAAA,EAAUF,GACdQ,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAC,GACTA,OAAAA,EAAMC,OAKrB,SAASC,EAAwBC,EAAQC,GAChC,OAAA,IAAIhB,QAAQ,SAASC,EAASC,GACnCQ,IACGN,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAM,GACTnB,OAAAA,EAAaD,GAAAA,OAAAA,GAAWoB,OAAAA,EAA/B,cAGHb,KAAK,SAAAC,GACGL,OAAAA,QAAQkB,WAAWb,KAE3BD,KAAK,SAAAC,GACEc,IAAAA,EAAO,GAQNlB,OANPI,EAAOe,QAAQ,SAAAC,GACU,cAAnBA,EAAQC,QACVH,EAAKI,KAAKF,EAAQG,SAIfvB,EAAQkB,KAEhBZ,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASiB,EAAwBV,EAAQC,GAChC,OAAA,IAAIhB,QAAQ,SAASC,EAASC,GACnCQ,IACGN,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAM,GACTnB,OAAAA,EAAaD,GAAAA,OAAAA,GAAWoB,OAAAA,EAA/B,cAGHb,KAAK,SAAAC,GACGL,OAAAA,QAAQ0B,KAAKrB,KAErBD,KAAK,SAAAC,GACGJ,OAAAA,EAAQ,CAACI,MAEjBE,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASmB,EAAuBZ,EAAQC,GAC/B,OAAA,IAAIhB,QAAQ,SAASC,EAASC,GACnCQ,IACGN,KAAK,SAAAC,GACGA,OAAAA,EAAOM,IAAI,SAAAM,GACTnB,OAAAA,EAAaD,GAAAA,OAAAA,GAAWoB,OAAAA,EAA/B,cAGHb,KAAK,SAAAC,GACGL,OAAAA,QAAQ4B,IAAI,CACjB5B,QAAQ0B,KAAKrB,GACbL,QAAQ0B,KAAKrB,GACbL,QAAQ0B,KAAKrB,OAGhBD,KAAK,SAAAC,GACGJ,OAAAA,EAAQI,KAEhBE,MAAM,SAAAC,GAASN,OAAAA,EAAO,IAAIO,MAAM,QAASD,QAIhD,SAASqB,EAAcC,EAAUC,EAAOC,GAChCC,IAAAA,EAAMC,SAASL,cAAc,OAEnCK,SAASC,KAAKC,OAAOH,GACrBA,EAAII,UAAUC,IAAIR,GAElBG,EAAIM,mBAAmB,YACfR,aAAAA,OAAAA,EADR,0CAKAC,IACG5B,KAAK,SAAAC,GACJA,EAAOM,IAAI,SAAAM,GACTgB,EAAIO,SAAS,GAAGD,mBAAmB,YAC3BtB,mBAAAA,OAAAA,EAAKwB,KAAUxB,OAAAA,OAAAA,EAAKJ,GAD5B,wBAORgB,EAAc,iBAAkB,iBAAkBf,GAClDe,EAAc,iBAAkB,iBAAkBJ,GAClDI,EAAc,eAAgB,yBAA0BF","file":"main.e7f08305.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_LINK = `https://mate-academy.github.io/\nphone-catalogue-static/api/phones.json`;\nconst linkBase = `https://mate-academy.github.io/\nphone-catalogue-static/api/phones/`;\n\nfunction getPhones(url) {\n  return new Promise((resolve, reject) => {\n    fetch(url)\n      .then(result => {\n        return resolve(result.json());\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction getIds() {\n  return getPhones(BASE_LINK)\n    .then(result => {\n      return result.map(phone => {\n        return phone.id;\n      });\n    });\n}\n\nfunction getAllSuccessfulDetails(massId, resolves) {\n  return new Promise(function(resolve, reject) {\n    getIds()\n      .then(result => {\n        return result.map(item => {\n          return getPhones(`${linkBase}${item}.json`);\n        });\n      })\n      .then(result => {\n        return Promise.allSettled(result);\n      })\n      .then(result => {\n        const mass = [];\n\n        result.forEach(element => {\n          if (element.status === 'fulfilled') {\n            mass.push(element.value);\n          }\n        });\n\n        return resolve(mass);\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction getFirstReceivedDetails(massId, resolves) {\n  return new Promise(function(resolve, reject) {\n    getIds()\n      .then(result => {\n        return result.map(item => {\n          return getPhones(`${linkBase}${item}.json`);\n        });\n      })\n      .then(result => {\n        return Promise.race(result);\n      })\n      .then(result => {\n        return resolve([result]);\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction getThreeFastestDetails(massId, resolves) {\n  return new Promise(function(resolve, reject) {\n    getIds()\n      .then(result => {\n        return result.map(item => {\n          return getPhones(`${linkBase}${item}.json`);\n        });\n      })\n      .then(result => {\n        return Promise.all([\n          Promise.race(result),\n          Promise.race(result),\n          Promise.race(result),\n        ]);\n      })\n      .then(result => {\n        return resolve(result);\n      })\n      .catch(error => reject(new Error('Error', error)));\n  });\n}\n\nfunction createElement(divClass, title, func) {\n  const div = document.createElement('div');\n\n  document.body.append(div);\n  div.classList.add(divClass);\n\n  div.insertAdjacentHTML('beforeend', `\n    <h2>${title}</h2>\n    <ul class=\"list\"></ul>\n  `);\n\n  func()\n    .then(result => {\n      result.map(item => {\n        div.children[1].insertAdjacentHTML('beforeend', `\n          <li>${item.name} - ${item.id}</li>\n        `);\n      });\n    });\n}\n\ncreateElement('all-successful', 'All Successful', getAllSuccessfulDetails);\ncreateElement('first-received', 'First Received', getFirstReceivedDetails);\ncreateElement('three-fatest', 'Three Fastest Received', getThreeFastestDetails);\n"]}